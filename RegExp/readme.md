# 正则表达式

今天被正则虐了，开始学习 2020.3.18

正则表达式是字符串的一种匹配模式（是一个模板），主要有三个作用
- 检查字符串
- 替换字符串
- 去除字符串

## 正则表字符

正则表达式有两种基本字符：正常文本字符和元字符。

- 正常文本字符：也叫原义字符，字符本来的含义。
- 元字符：使正则有处理能力，在正则表达式中有特殊含义的专用字符。

## 元字符

元字符是正则表达式中一个或一组代替一个或多个字符的字符。

### 字符组 []

#### 匹配若干字符之一

[123456] 匹配 1-6 中的任意数字

字符组内部可以用 “-” 连字符表示一个范围：
[123456] 等价于 [1-6]
[0-9a-zA-Z] 表示 匹配数字和任意字母

#### 排除型字符组

在字符组内部 ^ 表示匹配任何没有列出的字符：
[^1-6] 表示匹配除 1-6 以外的任何字符

### 匹配任意字符 .

元字符 . 用来匹配任意字符的占位符：

/2020.9.4/ 可以匹配 2020/9/4、2020.9.4、2020-9-4，注意 /2020.9.4/ 与 /2020\.9\.4/ 不同，/2020\.9\.4/ 只匹配 2020.9.4

```js
// 匹配任意字符用法
/2020.9.4/.test('2020/9/4') // true
/2020.9.4/.test('2020.9.4') // true
/2020.9.4/.test('2020-9-4') // true
/2020.9.4/.test('2020Y9M4') // true
/2020.9.4/.test('2020//9//4') // false 这里 . 只能占一个位置

// 只匹配 . 
/2020\.9\.4/.test('2020/9/4') // fasle
/2020\.9\.4/.test('2020.9.4') // true
```

### 特殊字符

匹配时需要转义的字符，在前面加 \ 
1234原则 共10组

\   特殊字符转义字符

^   匹配字符串的开始位置
$   匹配字符的结束位置

*   匹配前面的表达式0次或多次
+   匹配前面的表达式一次或多次
?   匹配前面的表达式0次或一次

[   中括号表达式开始 (] 不是特殊字符 匹配时无须转义)
()  子表达式的开始和结束位置
{   限定符开始 (} 不是特殊字符 匹配时无须转义)
|   匹配两项之一

### 限定符

正则表达式的一个组件必须要出现多少次才能满足匹配，共有 * + ? {n} {n,} {n,m}共6种。

* 0次或多次
+ 1次或多次
? 0次或一次

{n} n次 （必须满足n次才能匹配）
{n,} 至少匹配n次 等价于n+次
{n,m} 至少n次，最多m次 逗号之间不能有空格

### 定位符

描述单词或字符串的边界
- 匹配行首、行尾
- 匹配单词内、单词开头、单词结尾

^   匹配字符串开始的位置
$   匹配字符串结束的位置
\b  匹配单词边界
\B  匹配非单词边界

- 限定符跟定位符不能一起用，因为定位符的位置只有一个，固定的。没必要匹配多个
- 区分定位符的 ^(表示开始位置) 跟 [^(非)]

> 单词边界：
> 非单词边界：

### 定位符例子

匹配以 www 开始的字符
``` js
/^www/
// /^www/.test('www.baidu.com') -> true
// /^www/.test('wwww.baidu.com') -> true
// /^www/.test('http://www.baidu.com') -> false
```

匹配以 .com 结束的字符
``` js
/.com$/
// /.com$/.test('www.baidu.com') -> true
// /.com$/.test('www.baidu.cn') -> false
```

匹配以 .com 结束的字符
``` js
/.com$/
// /.com$/.test('www.baidu.com') -> true
// /.com$/.test('www.baidu.cn') -> false
```

### 非打印字符

- \s  空白字符（空格、制表符、换页符）= [\f\n\r\t\v]
- \S  非空白字符 = [^\r\n\f\t\v] = [^\s] 
- \n  换行符
- \r  回车符
- \f  换页符
- \t  制表符
- \v  垂直制表符
- \cx 

### 成对字符

- \d  匹配一个数字字符 = [0-9]
- \D  匹配一个非数字字符 = [^0-9]
- \s  匹配一个空白字符
- \S  匹配非空白字符
- \w  匹配字母、数字、下划线 = [a-zA-Z0-9_]
- \W  匹配非字母、数字、下划线 = [^a-zA-Z0-9_]
