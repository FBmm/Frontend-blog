# js 部分面试题

## js 打开页面的方式

1. 当前窗口打开页面

``` js
window.location.href="//www.baidu.com" // <a href="//www.baidu.com">百度</a>
```

2. 打开新页面

```js
window.open("www.baidu.com") // <a href="//www.baidu.com" target="_blank">百度</a>
```

- url 前加 // 等效于 输入url www.baidu.com
- 不加 // 则会拼接 链接 到当前浏览器 url 后面打开

## 内存管理与垃圾回收

> 像C语言这样的底层语言一般都有底层的内存管理接口，比如 malloc()和free()。相反，JavaScript是在创建变量（对象，字符串等）时自动进行了分配内存，并且在不使用它们时“自动”释放。 释放的过程称为垃圾回收。这个“自动”是混乱的根源，并让JavaScript（和其他高级语言）开发者错误的感觉他们可以不关心内存管理。 - MDN

### 内存管理的生命周期

1. 分配内存
2. 使用内存（读、写）
3. 释放内存

在js 中 开发只能感觉到第二步、其中一三是由底层语言负责的，所以开发者并不能感知到

### js 中的堆栈

1. 堆：存放复杂数据类型（引用类型），如数组、object，运行时动态分配，因此存取速度比较慢。
2. 栈：存放基本类型和对象的引用（包含池，池存放常量），优势是存取速度比堆块，并且栈的数据可以共享，缺点是栈中的数据大小与生命周期必须是确定的，缺乏灵活性，先进后出

基本类型：以值得方式保存在栈中，复制变量时，会在栈中创建一个新值。

引用类型：引用类型的值指保存在堆中的对象，堆中保存的其实是一个指针，指向内存中的另一个位置。具体指向哪里要看对象的数据类型，如果是基本类型则指向栈，如果是引用类型则指向堆，依此类推。复制变量时，复制的是内存的地址。

## js异步机制

### 1. console.log 打印

```js
const s = new Date()
setTimeout(() => {
    const e = new Date()
    console.log(e - s) // > 1000
}, 500)
while (new Date() - s < 1000) {}
```