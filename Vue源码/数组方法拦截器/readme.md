# 数组方法拦截器

[实现代码](index.html)

## vue源码中的应用场景

响应式对象劫持数组变化时，由于数组数据结构可以通过push、pop、splice等方法改变数组项，如果只是劫持数组的每一项数据，通过前面方法进行数组操作后，则无法更新新增项、删除项、修改项对应的视图。所以数组拦截器可以让vue监听操作方法改变数组实现响应式。

## 实现流程

- 创建空array操作方法对象指向Array原型对象
  - 重写部分操作方法
  - 不需要重写的数组方法调用原型链的原生Array方法
- 声明需要重写的数组操作方法
  - Vue中只重写数组的增删改操作方法（push、pop、shift、unshift、splice、sort、reverse）
- 重写的操作方法调用时，返回与原生方法相同的返回值
- 改变数组的原型对象指向新对象，调用重写的方法
