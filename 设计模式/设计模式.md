# 设计模式 

Design Pattern

> 计算机领域设计模式的概念引入自建筑设计领域

## 设计模式简述

设计模式是软件设计领域对普遍（反复出现）问题提出的典型解决方案，每一个设计模式就像是某类问题的蓝图，可以解决逻辑开发中遇到的共性问题，
使用设计模式是为了编写出更优秀的代码，这些代码有着高内聚、低耦合、可扩展和可复用的特点。

> 内聚、耦合：
> 衡量模块独立程度的标志量，内聚表示模块内元素的紧密程度、耦合表示各模块间的独立程度，
> 高内聚、低耦合表示模块越独立，独立的模块更容易开发、测试和维护。

目前主流的设计模式主要分为 6 种设计原则、 3 大类 23 种模式。

**6 种设计原则：**

- 单一职责原则
- 里氏替换原则
- 接口隔离原则
- 依赖倒置原则
- 迪米特法则
- 开闭原则

**23 种模式：**

- 创建模式：提供创建对象的机制，提升已有代码的灵活性和可复用性。
  - 工厂模式 Factory
  - 抽象工厂模式 Abstract Factory
  - 建造者模式 Builder
  - 原型模式 Prototype
  - 单例模式 Singleton
- 结构模式：介绍如何将对象和类组装成较大的结构，并同时保持结构的灵活和高效。
- 行为模式：负责对象间的高效沟通和职责传递委派。

## 设计原则

### 单一职责原则 

单一职责原则（Single Responsibility Principle，SRP）：是面向对象 5 个基本原则（SOLID）之一。它规定一个类应该只有一个发生变化的原因。
在 javascript 中，SRP 经常也被用到对象或方法的级别中，规定一个对象或者方法只做一件事。

**定义解释：**  
SRP 的"职责"就是发生变化的原因，在 SRP 中，不允许多职责，也就是一个类（对象或者方法）不能有多种发生变化的原因。
这是因为在编程中，类（对象或者方法）的变化则意味着改写代码，改写代码通常是危险的不稳定的，比如：有一个方法将多个功能代码全部耦合到一起，那么随着业务的变更和复杂，
将有可能对其中某个功能进行调整和优化，那么此时势必会变更代码逻辑，则很有可能影响其他功能的代码。**在需求的变迁过程中，如果一个类（对象或者方法）承担过多的职责，需要改写它的可能性就越大。**
SRP 的主要意义就是避免这种问题的发生，保证了我们的代码是高内聚、低耦合并且是可持续维护的。

> 注意点：
> 1. SRP 原则最核心的就是分离职责，但是并不是所有的职责都应该被分离。如果随便需求变化，两个职责总是紧密联系与同步变更，那么就不需要分离。
> 2. 对于已经被耦合的职责，如果还没有发生改变的征兆，那么先不必分离，代码重构时再做分离。

**对于 SRP 原则的误解：**  
根据 SRP 原则，我们需要正确地分离职责，但是在实际开发中，我们需要思考要不要一成不变的遵守原则，因为在各种优秀的框架中，违反 SRP 的例子也不少见。
比如 JQuery.attr 方法同时可以处理取值以及赋值的逻辑，这对于 JQuery 的维护者来说会带来一些困难，但是对于使用者，则简化了很多。
所以，使用 SRP 时，在易用性和规范性之间要有一些取舍。对于实际开发而言，没有标准答案，开发者需要根据自身的场景以及问题去思考和取舍。

**SRP 的优缺陷点：**  
优点：降低单个类（对象或方法）的复杂度，按照职责把对象分成更小的粒度，这有助于代码复用和单测。且当一个职责变更时，不会影响其他职责。
缺点：明显增加代码编写的复杂度，并且当我们把目标分成更小的粒度以后，也变相增加了这些目标相互关联的复杂度（对象耦合度）。

## 设计模式

### 工厂模式



