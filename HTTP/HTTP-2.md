# HTTP/2

## 二进制分帧

### 问：什么是帧、流？

    帧：HTTP2 中传输的最小单位消息，比如http请求消息和响应消息都是一个或多个帧组成。
    流：HTTP链接的虚拟通道，承载双向消息，有唯一的整数ID。

### 问：HTTP2数据传输格式

    二进制，在http1.0是以文本形式传输。http2则是以二进制格式传输数据。

    优点：二进制协议解析更高效。
    
## 首部压缩

    http1 中请求和响应会重复发送不改变的、冗长的头部数据，增加网络负担。

### 问：HTTP2 做了什么优化？

    - 使用首部表跟踪和存储之前发送的 key -value 头部信息，相同的数据不必每次都发送。
    - 首部表在HTTP2链接周期始终存在，由客户端和服务端共同更新。
    - 每个 key- value 要么增加到尾部，要么替换表中的历史值。

    > 只发送差异数据，而不是全部发送，减少头部信息传输量。

## 服务端推送
    
    服务端推送资源给客户端，客户端也可以拒收。

## 多路复用

    HTTP1中，想要发送多个请求，必须建立多个TCP链接，而且浏览器有限制（同时存在6-8个链接）。

### 问：HTTP2 中多链接的优化？

    - 同域名的所有请求都是在单个链接上进行。
    - 单个链接承载任意数量的双向数据流。
    - 数据已消息形式发出，由一个或多个帧组成，多个帧可以乱序发送，但是根据帧首部的流标识可以重新组装。